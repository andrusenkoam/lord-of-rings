{"mappings":"AAAA,MAGMA,EAAkBC,SAASC,cAAc,YACzCC,EAAYF,SAASC,cAAc,YACzC,IAAIE,EAAc,EAgBlB,SAASC,EAAaC,EAAO,GAC3B,MAAMC,EAAS,IAAIC,gBAAgB,CACjCC,MAAO,GACPH,KAAM,GAAGA,MAUX,OAAOI,MAAM,wCAA2BH,IAPzB,CACbI,OAAQ,MACRC,QAAS,CACPC,cAAe,iCAIuCC,MAAKC,IAC7D,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,MAAM,G,CActB,SAASC,EAAaC,GACpB,OAAOA,EACJC,KAAI,EAACC,KAAEA,EAAIC,QAAEA,EAAOC,KAAEA,EAAIC,OAAEA,KACpB,+CACcH,4BACRC,0DAAgED,mCACxDE,qCACCC,uBAGvBC,KAAK,G,CAxDVxB,EAAUyB,iBAAiB,SAE3B,WACExB,GAAe,EACfC,EAAaD,GACVU,MAAKe,IACJ7B,EAAgB8B,mBAAmB,YAAaV,EAAaS,EAAKE,OAC9DF,EAAKvB,OAASuB,EAAKG,QACrB7B,EAAU8B,MAAMC,QAAU,OAAM,IAGnCC,OAAMC,GAAOC,QAAQC,IAAIF,I,IAyB9B/B,IACGS,MAAKe,IACJ7B,EAAgB8B,mBAAmB,YAAaV,EAAaS,EAAKE,OAE9DF,EAAKvB,OAASuB,EAAKG,QACrB7B,EAAU8B,MAAMC,QAAU,QAAO,IAGpCC,OAAMC,GAAOC,QAAQC,IAAIF","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://the-one-api.dev/v2';\nconst END_POINT = '/character';\nconst KEY = 'A4ZGTeDuebL19mljqwqU';\nconst characterListEl = document.querySelector('.js-list');\nconst loadBtnEl = document.querySelector('.js-load');\nlet currentPage = 1;\n\nloadBtnEl.addEventListener('click', onLoadClick);\n\nfunction onLoadClick() {\n  currentPage += 1;\n  getCharacter(currentPage)\n    .then(data => {\n      characterListEl.insertAdjacentHTML('beforeend', createMarkup(data.docs));\n      if (data.page === data.pages) {\n        loadBtnEl.style.display = 'none';\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nfunction getCharacter(page = 1) {\n  const params = new URLSearchParams({\n    limit: 20,\n    page: `${page}`,\n  });\n\n  const option = {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${KEY}`,\n    },\n  };\n\n  return fetch(`${BASE_URL}${END_POINT}?${params}`, option).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\ngetCharacter()\n  .then(data => {\n    characterListEl.insertAdjacentHTML('beforeend', createMarkup(data.docs));\n\n    if (data.page !== data.pages) {\n      loadBtnEl.style.display = 'block';\n    }\n  })\n  .catch(err => console.log(err));\n\nfunction createMarkup(arr) {\n  return arr\n    .map(({ name, wikiUrl, race, gender }) => {\n      return `<li class=\"item\">\n        <h2 class=\"name\">${name}</h2>\n        <a href=\"${wikiUrl}\" target=\"_blank\" class=\"link\">More information about ${name}</a>\n        <h3 class=\"race\">${race}</h3>\n        <p class=\"gender\">${gender}</p>\n      </li>`;\n    })\n    .join('');\n}\n"],"names":["$1f0dc3b9307be026$var$characterListEl","document","querySelector","$1f0dc3b9307be026$var$loadBtnEl","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$getCharacter","page","params","URLSearchParams","limit","fetch","method","headers","Authorization","then","resp","ok","Error","statusText","json","$1f0dc3b9307be026$var$createMarkup","arr","map","name","wikiUrl","race","gender","join","addEventListener","data","insertAdjacentHTML","docs","pages","style","display","catch","err","console","log"],"version":3,"file":"index.c7335920.js.map"}