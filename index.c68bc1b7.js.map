{"mappings":"YAAA,IAAMA,EAAW,6BACXC,EAAY,aACZC,EAAM,uBACNC,EAAkBC,SAASC,cAAc,YACzCC,EAAYF,SAASC,cAAc,YACrCE,EAAc,EAgBlB,SAASC,I,IAAaC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EACrBE,EAAS,IAAIC,gBAAgB,CACjCC,MAAO,GACPL,KAAM,GAAQM,OAALN,KAGLO,EAAS,CACbC,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAcJ,OAAJb,KAI7B,OAAOkB,MAAM,GAAcL,OAAXf,GAAwBe,OAAbd,EAAU,KAAUc,OAAPH,GAAUI,GAAQK,MAAK,SAAAC,GAC7D,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,M,IAchB,SAASC,EAAaC,GACpB,OAAOA,EACJC,KAAI,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAOF,EAAPE,QAASC,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OAC3B,MAAO,+CAEMnB,OADQgB,EAAK,4BACmDhB,OAAhEiB,EAAQ,0DACAjB,OADwDgB,EAAK,mCAE5DhB,OADDkB,EAAK,qCACGlB,OAAPmB,EAAO,oB,IAG9BC,KAAK,G,CAxDV7B,EAAU8B,iBAAiB,SAE3B,WAEE5B,EADAD,GAAe,GAEZc,MAAK,SAAAgB,GACJlC,EAAgBmC,mBAAmB,YAAaX,EAAaU,EAAKE,OAC9DF,EAAK5B,OAAS4B,EAAKG,QACrBlC,EAAUmC,MAAMC,QAAU,O,IAG7BC,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,OAyB9BpC,IACGa,MAAK,SAAAgB,GACJlC,EAAgBmC,mBAAmB,YAAaX,EAAaU,EAAKE,OAE9DF,EAAK5B,OAAS4B,EAAKG,QACrBlC,EAAUmC,MAAMC,QAAU,Q,IAG7BC,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://the-one-api.dev/v2';\nconst END_POINT = '/character';\nconst KEY = 'A4ZGTeDuebL19mljqwqU';\nconst characterListEl = document.querySelector('.js-list');\nconst loadBtnEl = document.querySelector('.js-load');\nlet currentPage = 1;\n\nloadBtnEl.addEventListener('click', onLoadClick);\n\nfunction onLoadClick() {\n  currentPage += 1;\n  getCharacter(currentPage)\n    .then(data => {\n      characterListEl.insertAdjacentHTML('beforeend', createMarkup(data.docs));\n      if (data.page === data.pages) {\n        loadBtnEl.style.display = 'none';\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nfunction getCharacter(page = 1) {\n  const params = new URLSearchParams({\n    limit: 20,\n    page: `${page}`,\n  });\n\n  const option = {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${KEY}`,\n    },\n  };\n\n  return fetch(`${BASE_URL}${END_POINT}?${params}`, option).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\ngetCharacter()\n  .then(data => {\n    characterListEl.insertAdjacentHTML('beforeend', createMarkup(data.docs));\n\n    if (data.page !== data.pages) {\n      loadBtnEl.style.display = 'block';\n    }\n  })\n  .catch(err => console.log(err));\n\nfunction createMarkup(arr) {\n  return arr\n    .map(({ name, wikiUrl, race, gender }) => {\n      return `<li class=\"item\">\n        <h2 class=\"name\">${name}</h2>\n        <a href=\"${wikiUrl}\" target=\"_blank\" class=\"link\">More information about ${name}</a>\n        <h3 class=\"race\">${race}</h3>\n        <p class=\"gender\">${gender}</p>\n      </li>`;\n    })\n    .join('');\n}\n"],"names":["$b8f9b7833fa37166$var$BASE_URL","$b8f9b7833fa37166$var$END_POINT","$b8f9b7833fa37166$var$KEY","$b8f9b7833fa37166$var$characterListEl","document","querySelector","$b8f9b7833fa37166$var$loadBtnEl","$b8f9b7833fa37166$var$currentPage","$b8f9b7833fa37166$var$getCharacter","page","arguments","length","params","URLSearchParams","limit","concat","option","method","headers","Authorization","fetch","then","resp","ok","Error","statusText","json","$b8f9b7833fa37166$var$createMarkup","arr","map","param","name","wikiUrl","race","gender","join","addEventListener","data","insertAdjacentHTML","docs","pages","style","display","catch","err","console","log"],"version":3,"file":"index.c68bc1b7.js.map"}